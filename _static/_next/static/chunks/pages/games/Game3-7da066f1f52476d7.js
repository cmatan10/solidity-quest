(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{46651:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game3",function(){return t(67855)}])},83545:function(e,a,t){"use strict";var c=t(85893),n=t(67294),s=t(53637),l=t(39886),r=t(54610),o=t(84082),i=t(49816),d=t(89163),h=t(87261),u=t(45281),m=t(84283),p=t(74855),x=t(55678),b=t(96941);t(71399);var g=t(46050);a.Z=e=>{let{gameData:a,gameFunctions:t}=e,[f,y]=(0,n.useState)({}),[j,k]=(0,n.useState)(""),[C,w]=(0,n.useState)(""),[B,N]=(0,n.useState)(""),[Z,_]=(0,n.useState)(!1),[v,S]=(0,n.useState)(null),[T,A]=(0,n.useState)(null),[I,E]=(0,n.useState)(!1),[H,G]=(0,n.useState)(null),L=(0,n.useRef)(null),{walletAddress:Y,factoryContract:F,nftContract:O,web3:P}=(0,n.useContext)(g.S);(0,n.useEffect)(()=>{P&&P.utils.isAddress(j)&&S(new P.eth.Contract(a.abi,j)),P&&a.abi2&&P.utils.isAddress(C)&&A(new P.eth.Contract(a.abi2,C))},[j,C,P,a.abi,a.abi2]),(0,n.useEffect)(()=>{let e=async()=>{if(Y&&O){let e=await O.methods.balanceOf(Y,a.badgeId).call();N(e)}};e()},[Y,O,a.badgeId]);let D=(e,a)=>{y({...f,[a]:e.target.value})},z=async()=>{try{_(!0);let e=await F.methods.deploy(a.id).send({from:Y}),t=e.events.DeployInstance;t?(k(P.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),a.abi2&&e.logs[1]&&w(P.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),a.showTransactionHash&&G(e.transactionHash),x.Am.success("Game instance(s) created successfully!")):x.Am.error("Game creation failed.")}catch(e){x.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{_(!1)}},M=(e,t)=>{t(x.Am,v,f,Y,O,a.badgeId,P,T)};return(0,c.jsxs)(s.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,c.jsx)(b.wp,{}),(0,c.jsx)(x.Ix,{}),(0,c.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,c.jsx)("b",{children:a.title})}),(0,c.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsx)(r.Z,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(p.CopyToClipboard,{text:a.code,children:(0,c.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,c.jsx)(u.Z,{language:"javascript",style:m.YC,ref:L,customStyle:{margin:"0"},children:a.code})]})})}),a.code1&&(0,c.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsx)(r.Z,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(p.CopyToClipboard,{text:a.code1,children:(0,c.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,c.jsx)(u.Z,{style:m.YC,ref:L,customStyle:{margin:"0"},children:a.code1})]})})}),(0,c.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Game Description"})}),(0,c.jsx)("p",{children:a.description}),(0,c.jsx)("br",{}),(0,c.jsx)(o.Z,{onClick:z,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:Z?"Creating...":"Create Instance"})]})}),j&&!Z&&(0,c.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)("h3",{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Your Instance Address:"})}),(0,c.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:j}),T&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,c.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:C})]})]})}),j&&!Z&&a.hint&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{onClick:()=>E(!I),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:I?"Hide Hint":"Show Hint"}),I&&(0,c.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Hint"})}),(0,c.jsxs)("p",{children:[a.hint,a.showTransactionHash&&H&&(0,c.jsxs)("span",{style:{wordBreak:"break-all",color:"#c97539"},children:[" ",H,"."]}),a.hintLink&&(0,c.jsxs)("span",{children:[" You can read more ",(0,c.jsx)("a",{href:a.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]}),a.hintLink2&&(0,c.jsxs)("span",{children:[" and ",(0,c.jsx)("a",{href:a.hintLink2,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]})]})]})})]}),j&&!Z&&a.functions.map((e,a)=>(0,c.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:e.label})}),e.inputs.map((e,a)=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)(h.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:a=>D(a,e.name)})},a),(0,c.jsx)("br",{})]})),(0,c.jsx)(o.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>M(e.functionName,t[e.functionName]),children:e.buttonText})]})},a)),B>0&&(0,c.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,c.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,c.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},67855:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return i}});var c=t(85893);t(67294);var n=t(83545),s=JSON.parse('[{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"checkBalance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"correctBalanceChecked","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]');let l=async(e,a,t,c,n,s,l)=>{let{_account:r,_amount:o}=t;if(!l.utils.isAddress(r)){alert("Invalid Ethereum address!");return}try{await a.methods.checkBalance(r,o).send({from:c}),e.success("Balance checked successfully!");let t=await n.methods.balanceOf(c,s).call();t<1&&(await n.methods.mint(s,a._address).send({from:c}),e.success("Badge minted successfully!"))}catch(a){e.error("Balance check failed."),console.error(a)}},r=async(e,a)=>{try{let t=await a.methods.correctBalanceChecked().call();e.info("Correct Balance Checked: ".concat(t))}catch(a){e.error("Fetching correct balance status failed."),console.error(a)}},o={id:3,title:"Balance Checker",description:"Perfect the art of balance verification in Solidity. Convert and ensure digital wallet balances align.\n                To solve this puzzle, you need to know how to check Ethereum account balances in Solidity and how to convert balances between Ether and Wei.",code:'// SPDX-License-Identifier: MIT\n          pragma solidity ^0.8.10;\n\n          contract BalanceChecker {\n              bool public correctBalanceChecked = false;\n\n              function checkBalance(address _account, uint256 _amount) public {\n                  require(_account.balance == _amount, "Incorrect balance");\n                  correctBalanceChecked = true;\n              }\n          }',abi:s,badgeId:3,hint:"Check how to Get the balance of an address at a given block.",hintLink:"https://web3js.readthedocs.io/en/v1.2.11/web3-eth.html?highlight=balance#getbalance",functions:[{label:"Get Balance Check Status",functionName:"correctBalanceChecked",buttonText:"correctBalanceChecked ",inputs:[]},{label:"Check Balance",functionName:"checkBalance",buttonText:"Submit Balance Check",inputs:[{name:"_account",placeholder:"Enter account address"},{name:"_amount",placeholder:"Enter amount in Wei"}]}]};var i=()=>(0,c.jsx)(n.Z,{gameData:o,gameFunctions:{checkBalance:l,correctBalanceChecked:r}})}},function(e){e.O(0,[931,318,941,774,888,179],function(){return e(e.s=46651)}),_N_E=e.O()}]);