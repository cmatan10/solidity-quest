(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[339],{92860:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game4",function(){return s(84763)}])},84763:function(e,t,s){"use strict";s.r(t);var n=s(85893),l=s(67294),r=s(45281),c=s(84283),o=s(53637),a=s(39886),i=s(54610),d=s(84082),h=s(49816),u=s(74855),m=s(44173),x=s(46050);s(71399);var j=s(96941);t.default=()=>{let[e,t]=(0,l.useState)(""),[s,g]=(0,l.useState)(""),[y,f]=(0,l.useState)(!1),b=(0,l.useRef)(null),{walletAddress:p,factoryContract:w,nftContract:C,web3:k}=(0,l.useContext)(x.S),[v,N]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=async()=>{if(!p||!C)return;let e=await C.methods.balanceOf(p,4).call();g(e),console.log(s)};e()},[p,C,s]);let Z=async()=>{try{f(!0);let e=await w.methods.deploy(4).send({from:p}),s=e.events.DeployInstance;s?(t(s.returnValues.Instance),m.Am.success("Game created successfully!")):m.Am.error("Game creation failed."),f(!1)}catch(e){f(!1),console.log(e),m.Am.error("Game creation failed. \n      Please make sure That your Metamask wallet is properly connected.")}},_=async()=>{let t=await k.eth.getBalance(e);if(1===t&&(0,m.Am)("Well done! You have solved this level!",{autoClose:5e3}),s<1)try{await C.methods.mint(4,e).send({from:p}).once("error",e=>{console.log(e),m.Am.error("Minting failed.")}).once("receipt",async()=>{let e=await C.methods.balanceOf(p,4).call();g(e),console.log(e),m.Am.success("Minting completed successfully!")})}catch(e){console.error(e.message)}},S='// SPDX-License-Identifier: MIT\n    pragma solidity ^0.8.10;\n    \n    contract PayableContract {\n    \n        receive() external payable {\n            require(msg.value == 1 wei, "Incorrect amount received");\n        }\n    }';return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Z,{className:"bg-primary-black overflow-hidden",children:[(0,n.jsx)(j.wp,{}),(0,n.jsx)("h1",{className:"game-title title-color",children:(0,n.jsx)("b",{children:"Payable Contract"})}),(0,n.jsx)(a.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)("div",{style:{position:"relative"},children:[(0,n.jsx)(u.CopyToClipboard,{text:S,children:(0,n.jsx)(d.Z,{className:"button-copy",children:"Copy code"})}),(0,n.jsx)(r.Z,{language:"javascript",style:c.Vg,ref:b,children:S})]})})}),(0,n.jsx)(a.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white"},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(h.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Game Description"})}),(0,n.jsxs)("p",{children:[(0,n.jsx)("b",{children:"Dive into the receive function in Solidity. Learn and ensure smooth interactions."}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("b",{children:[(0,n.jsx)("strong",{children:" You need:"}),"  To accomplish this task, you need to understand the receive function in Solidity, its purpose, when it's triggered, and how to interact with it by sending Ether to the contract. "]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(d.Z,{style:{backgroundColor:"#c97539",color:"white"},className:"button",onClick:Z,children:"Create Instance"})})]})}),!y&&""!==e&&(0,n.jsx)(a.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)("h3",{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Your Test Address:"})}),(0,n.jsxs)("p",{style:{wordBreak:"break-all"},className:"Instance-color",children:[" ",e," "]}),(0,n.jsx)(d.Z,{style:{backgroundColor:"#355f7d",color:"white"},className:"button",onClick:()=>{N(!v)},children:v?"Hide Hint":"Show Hint"}),(0,n.jsx)("br",{}),(0,n.jsx)(d.Z,{style:{backgroundColor:"#c97539",color:"white"},className:"button",onClick:_,children:"Submit"})]})}),v&&(0,n.jsx)(a.Z,{className:"card",style:{backgroundColor:"#000000",color:"white"},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(h.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Hint"})}),(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Interact with the contract using Remix, and remember that the receive function is executed by calling the contract with empty call data. This is the function that is executed on plain Ether transfers. You Can Read More"})," ",(0,n.jsx)("a",{style:{textDecoration:"underline"},href:"https://docs.soliditylang.org/en/v0.8.10/contracts.html?highlight=fallback#receive-ether-function",target:"_blank",rel:"noopener noreferrer",children:(0,n.jsx)("strong",{children:"Here"})}),"."]})]})}),(0,n.jsx)("p",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:s<1?null:(0,n.jsx)("div",{children:(0,n.jsxs)("strong",{children:["Congratulations! You Got A Badge"," ",(0,n.jsx)("i",{className:"fas fa-medal",style:{color:"gold",fontSize:"20px",position:"relative",top:"3px"}})]})})})]}),(0,n.jsx)(m.Ix,{})]})}}},function(e){e.O(0,[817,839,941,774,888,179],function(){return e(e.s=92860)}),_N_E=e.O()}]);