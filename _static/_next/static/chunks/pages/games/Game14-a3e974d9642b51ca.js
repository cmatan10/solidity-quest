(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{62610:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game14",function(){return n(88699)}])},83545:function(e,t,n){"use strict";var a=n(85893),s=n(67294),r=n(53637),c=n(39886),o=n(54610),l=n(84082),i=n(49816),d=n(89163),_=n(87261),u=n(45281),p=n(84283),h=n(74855),m=n(55678),y=n(96941);n(71399);var x=n(46050);t.Z=e=>{let{gameData:t,gameFunctions:n}=e,[b,f]=(0,s.useState)({}),[g,j]=(0,s.useState)(""),[C,k]=(0,s.useState)(""),[w,S]=(0,s.useState)(""),[N,T]=(0,s.useState)(!1),[Z,A]=(0,s.useState)(null),[B,v]=(0,s.useState)(null),[P,F]=(0,s.useState)(!1),[I,E]=(0,s.useState)(null),D=(0,s.useRef)(null),{walletAddress:H,factoryContract:M,nftContract:L,web3:Y}=(0,s.useContext)(x.S);(0,s.useEffect)(()=>{Y&&Y.utils.isAddress(g)&&A(new Y.eth.Contract(t.abi,g)),Y&&t.abi2&&Y.utils.isAddress(C)&&v(new Y.eth.Contract(t.abi2,C))},[g,C,Y,t.abi,t.abi2]),(0,s.useEffect)(()=>{let e=async()=>{if(H&&L){let e=await L.methods.balanceOf(H,t.badgeId).call();S(e)}};e()},[H,L,t.badgeId]);let G=(e,t)=>{f({...b,[t]:e.target.value})},O=async()=>{try{T(!0);let e=await M.methods.deploy(t.id).send({from:H}),n=e.events.DeployInstance;n?(j(Y.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),t.abi2&&e.logs[1]&&k(Y.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),t.showTransactionHash&&E(e.transactionHash),m.Am.success("Game instance(s) created successfully!")):m.Am.error("Game creation failed.")}catch(e){m.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{T(!1)}},X=(e,n)=>{n(m.Am,Z,b,H,L,t.badgeId,Y,B)};return(0,a.jsxs)(r.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,a.jsx)(y.wp,{}),(0,a.jsx)(m.Ix,{}),(0,a.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,a.jsx)("b",{children:t.title})}),(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(h.CopyToClipboard,{text:t.code,children:(0,a.jsx)(l.Z,{className:"button-copy",children:"Copy code"})}),(0,a.jsx)(u.Z,{language:"javascript",style:p.YC,ref:D,customStyle:{margin:"0"},children:t.code})]})})}),t.code1&&(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(h.CopyToClipboard,{text:t.code1,children:(0,a.jsx)(l.Z,{className:"button-copy",children:"Copy code"})}),(0,a.jsx)(u.Z,{style:p.YC,ref:D,customStyle:{margin:"0"},children:t.code1})]})})}),(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(i.Z,{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Game Description"})}),(0,a.jsx)("p",{children:t.description}),(0,a.jsx)("br",{}),(0,a.jsx)(l.Z,{onClick:O,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:N?"Creating...":"Create Instance"})]})}),g&&!N&&(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)("h3",{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Your Instance Address:"})}),(0,a.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:g}),B&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,a.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:C})]})]})}),g&&!N&&t.hint&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{onClick:()=>F(!P),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:P?"Hide Hint":"Show Hint"}),P&&(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(i.Z,{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Hint"})}),(0,a.jsxs)("p",{children:[t.hint,t.showTransactionHash&&I&&(0,a.jsxs)("span",{style:{wordBreak:"break-all",color:"#c97539"},children:[" ",I,"."]}),t.hintLink&&(0,a.jsxs)("span",{children:[" You can read more ",(0,a.jsx)("a",{href:t.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]}),t.hintLink2&&(0,a.jsxs)("span",{children:[" and ",(0,a.jsx)("a",{href:t.hintLink2,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]})]})]})})]}),g&&!N&&t.functions.map((e,t)=>(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(i.Z,{className:"desc-title title-color",children:(0,a.jsx)("b",{children:e.label})}),e.inputs.map((e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{children:(0,a.jsx)(_.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:t=>G(t,e.name)})},t),(0,a.jsx)("br",{})]})),(0,a.jsx)(l.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>X(e.functionName,n[e.functionName]),children:e.buttonText})]})},t)),w>0&&(0,a.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,a.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,a.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},88699:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(85893);n(67294);var s=n(83545),r=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"SomeContracts","outputs":[{"internalType":"contract SomeContract","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"_salt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bytecode","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addr","type":"address"},{"internalType":"uint256","name":"_sal","type":"uint256"},{"internalType":"bytes","name":"_bytecode","type":"bytes"}],"name":"checkAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"correctPrediction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_add","type":"address"}],"name":"deploy","outputs":[],"stateMutability":"nonpayable","type":"function"}]');let c=async(e,t)=>{try{let n=await t.methods.correctPrediction().call();e.info("Correct Prediction: ".concat(n?"True":"False"))}catch(t){e.error("Failed to fetch correct prediction."),console.error(t)}},o=async(e,t)=>{try{let n=await t.methods._salt().call();e.info("Salt: ".concat(n))}catch(t){e.error("Failed to fetch salt."),console.error(t)}},l=async(e,t)=>{try{let n=await t.methods.bytecode().call();e.info("Bytecode: ".concat(n))}catch(t){e.error("Failed to fetch bytecode."),console.error(t)}},i=async(e,t,n)=>{let{_addr:a,_sal:s,_bytecode:r}=n;try{let n=await t.methods.checkAddress(a,Number(s),r).call();e.info("Checked Address: ".concat(n))}catch(t){e.error("Failed to check address."),console.error(t)}},d=async(e,t,n,a,s,r)=>{let{Add:c}=n;try{await t.methods.deploy(c).send({from:a}),e.success("Contract deployed successfully!");let n=await s.methods.balanceOf(a,r).call();n<1&&(await s.methods.mint(r,t.options.address).send({from:a}),e.success("Badge minted successfully!"))}catch(t){console.error("Error in Deploy function:",t),e.error("Deployment failed: ".concat(t.message))}},_={id:14,title:"Contract Factory",description:"Anticipate contract deployments in Solidity. Calculate and predict with accuracy. \n                You need to understand how a smart contract address is calculated and calculate the address \n                where the SomeContract contract will be deployed.",code:'\n                // SPDX-License-Identifier: MIT\n                pragma solidity ^0.8.10;\n                \n                contract Factory {\n                    SomeContract[] public SomeContracts;\n                    bool public correctPrediction;\n                    uint256 public _salt = 1;\n                    bytes public byte1 = type(SomeContract).creationCode;\n            \n                    function checkAddress(address _addr, uint256 _sal, bytes memory _bytecode)\n                        external\n                        pure\n                        returns (address)\n                    {\n                        bytes32 result = keccak256(\n                            abi.encodePacked(\n                                bytes1(0xff),\n                                address(_addr),\n                                _sal,\n                                keccak256(_bytecode)\n                            )\n                        );\n                        return address(uint160(uint256(result)));\n                    }\n            \n                    function deploy(address _add) external {\n                        require(_add != address(0), "Address must not be null");\n                        bytes32 salt = bytes32(_salt);\n                        SomeContract someContract = (new SomeContract){salt: salt}();\n                        SomeContracts.push(someContract);\n                        if (address(SomeContracts[0]) == _add) {\n                            correctPrediction = true;\n                        }\n                        require(correctPrediction, "not correct");\n                    }\n                }\n              ',code1:"\n    // SPDX-License-Identifier: MIT\n    pragma solidity ^0.8.10;\n    \n    contract SomeContract {\n      /*\n            ~~~~                                       ~~~~\n        ~~                                           ~~\n          ~~                                           ~~\n        ~~                                            ~~\n          ~~                                           ~~\n        ________                                     _______\n       /  |   | \\                                  / |   | \\\n      / __|___|__\\                                /__|___|__\\\n     / ||_|___|_||\\                              /||_|___|_||\\\n    /              \\                            /             \\\n   /                \\                          /               \\\n  /__________________\\ ______________________ /_________________\\\n  |   ____________    ||   ____    ____     ||   ____________    |\n  |  |            |   ||  |    |  |    |    ||  |            |   |\n  |  |____________|   ||  |____|  |____|    ||  |____________|   |\n  |                   ||                    ||                   |\n  |   _____________   ||   _____________    ||   _____________   |\n  |  |             |  ||  |             |   ||  |             |  |\n  |  |   _     _   |  ||  |   _     _   |   ||  |   _     _   |  |\n  |  |  | |   | |  |  ||  |  | |   | |  |   ||  |  | |   | |  |  |\n  |__|__| |___| |__|__||__|__| |___| |__|___||__|__| |___| |__|__|\n      */\n    }",abi:r,badgeId:14,hint:"Calculate the deployed address: keccak256(abi.encodePacked(bytes1(0xff), address(this), salt, keccak256(bytecode))).",functions:[{label:"Correct Prediction",functionName:"correctPrediction",buttonText:"Fetch Correct Prediction",inputs:[]},{label:"Salt",functionName:"Saltt",buttonText:"Fetch Salt",inputs:[]},{label:"Bytecode",functionName:"bytecode",buttonText:"Fetch Bytecode",inputs:[]},{label:"Check Address",functionName:"checkAddress",buttonText:"Check Address",inputs:[{name:"_addr",placeholder:"Enter Address"},{name:"_sal",placeholder:"Enter Salt"},{name:"_bytecode",placeholder:"Enter Bytecode"}]},{label:"Deploy Contract",functionName:"Deploy",buttonText:"Deploy",inputs:[{name:"Add",placeholder:"Enter Address"}]}]};var u=()=>(0,a.jsx)(s.Z,{gameData:_,gameFunctions:{correctPrediction:c,Saltt:o,bytecode:l,checkAddress:i,Deploy:d}})}},function(e){e.O(0,[931,318,941,774,888,179],function(){return e(e.s=62610)}),_N_E=e.O()}]);