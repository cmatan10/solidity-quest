(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{8655:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game10",function(){return s(44974)}])},83545:function(e,t,s){"use strict";var n=s(85893),a=s(67294),c=s(53637),l=s(39886),o=s(54610),i=s(84082),r=s(49816),d=s(89163),u=s(87261),h=s(45281),m=s(84283),p=s(74855),x=s(44173),g=s(96941);s(71399);var f=s(46050);t.Z=e=>{let{gameData:t,gameFunctions:s}=e,[y,b]=(0,a.useState)({}),[j,w]=(0,a.useState)(""),[C,k]=(0,a.useState)(""),[N,Z]=(0,a.useState)(""),[v,S]=(0,a.useState)(!1),[A,I]=(0,a.useState)(null),[T,B]=(0,a.useState)(null),[M,_]=(0,a.useState)(!1),[E,H]=(0,a.useState)(null),F=(0,a.useRef)(null),{walletAddress:D,factoryContract:G,nftContract:Y,web3:O}=(0,a.useContext)(f.S);(0,a.useEffect)(()=>{O&&O.utils.isAddress(j)&&I(new O.eth.Contract(t.abi,j)),O&&t.abi2&&O.utils.isAddress(C)&&B(new O.eth.Contract(t.abi2,C))},[j,C,O,t.abi,t.abi2]),(0,a.useEffect)(()=>{let e=async()=>{if(D&&Y){let e=await Y.methods.balanceOf(D,t.badgeId).call();Z(e)}};e()},[D,Y,t.badgeId]);let P=(e,t)=>{b({...y,[t]:e.target.value})},X=async()=>{try{S(!0);let e=await G.methods.deploy(t.id).send({from:D}),s=e.events.DeployInstance;s?(w(O.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),t.abi2&&e.logs[1]&&k(O.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),t.showTransactionHash&&H(e.transactionHash),x.Am.success("Game instance(s) created successfully!")):x.Am.error("Game creation failed.")}catch(e){x.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{S(!1)}},L=(e,s)=>{s(x.Am,A,y,D,Y,t.badgeId,O,T)};return(0,n.jsxs)(c.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,n.jsx)(g.wp,{}),(0,n.jsx)(x.Ix,{}),(0,n.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,n.jsx)("b",{children:t.title})}),(0,n.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsx)(o.Z,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(p.CopyToClipboard,{text:t.code,children:(0,n.jsx)(i.Z,{className:"button-copy",children:"Copy code"})}),(0,n.jsx)(h.Z,{language:"javascript",style:m.YC,ref:F,customStyle:{margin:"0"},children:t.code})]})})}),t.code1&&(0,n.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsx)(o.Z,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(p.CopyToClipboard,{text:t.code1,children:(0,n.jsx)(i.Z,{className:"button-copy",children:"Copy code"})}),(0,n.jsx)(h.Z,{style:m.YC,ref:F,customStyle:{margin:"0"},children:t.code1})]})})}),(0,n.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Game Description"})}),(0,n.jsx)("p",{children:t.description}),(0,n.jsx)("br",{}),(0,n.jsx)(i.Z,{onClick:X,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:v?"Creating...":"Create Instance"})]})}),j&&!v&&(0,n.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)("h3",{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Your Instance Address:"})}),(0,n.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:j}),T&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,n.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:C})]})]})}),j&&!v&&t.hint&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{onClick:()=>_(!M),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:M?"Hide Hint":"Show Hint"}),M&&(0,n.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Hint"})}),(0,n.jsxs)("p",{children:[t.hint,t.showTransactionHash&&E&&(0,n.jsxs)("span",{children:[" ",E,"."]})]})]})})]}),j&&!v&&t.functions.map((e,t)=>(0,n.jsx)(l.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:e.label})}),e.inputs.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(u.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:t=>P(t,e.name)})},t),(0,n.jsx)("br",{})]})),(0,n.jsx)(i.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>L(e.functionName,s[e.functionName]),children:e.buttonText})]})},t)),N>0&&(0,n.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,n.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,n.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},44974:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var n=s(85893);s(67294);var a=s(83545),c=JSON.parse('[{"inputs":[{"internalType":"bytes4","name":"id","type":"bytes4"}],"name":"CalcMe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"answer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]');let l=async(e,t,s,n,a,c)=>{let{id:l}=s,o=l.startsWith("0x")?l:"0x".concat(l);if(!/^0x[0-9A-Fa-f]{8}$/.test(o)){e.error("Invalid input! Please provide a valid bytes4 hexadecimal string.");return}try{await t.methods.CalcMe(o).send({from:n}),e.success("CalcMe function executed successfully!");let s=await t.methods.answer().call();if(s){let s=await a.methods.balanceOf(n,c).call();s<1&&(await a.methods.mint(c,t.options.address).send({from:n}),e.success("Badge minted successfully!"))}}catch(t){console.error("Error in CalcMe function:",t),e.error("CalcMe operation failed: ".concat(t.message))}},o=async(e,t)=>{try{let s=await t.methods.answer().call();e.info("Answer is: ".concat(s?"True":"False"))}catch(t){e.error("Fetching answer status failed."),console.error(t)}},i={id:10,title:"Interface Id",description:"Decipher function signatures in Solidity. Compute and match using cryptographic functions. \n                You need to understand function signatures in Solidity, how to compute them using keccak256, \n                and convert them into bytes4 type.",code:'// SPDX-License-Identifier: MIT\n          pragma solidity ^0.8.10;\n          \n          contract InterfaceId {\n              bool public answer;\n          \n              function CalcMe(bytes4 id) external {\n                  require(id == bytes4(keccak256("CalcMe(bytes4)")), "Calc Me Again!");\n                  answer = true;\n              }\n          }',abi:c,badgeId:10,hint:"Calculate the function signature at the following link: https://emn178.github.io/online-tools/keccak_256.html\n         or write a function according to the following interface: function Calc() external pure returns (bytes4);",functions:[{label:"Answer",functionName:"answer",buttonText:"Check Answer",inputs:[]},{label:"CalcMe Function",functionName:"CalcMe",buttonText:"CalcMe",inputs:[{name:"id",placeholder:"Enter function ID (bytes4)"}]}]};var r=()=>(0,n.jsx)(a.Z,{gameData:i,gameFunctions:{CalcMe:l,answer:o}})}},function(e){e.O(0,[817,311,941,774,888,179],function(){return e(e.s=8655)}),_N_E=e.O()}]);