(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{73352:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game15",function(){return n(41782)}])},83545:function(e,t,n){"use strict";var c=n(85893),a=n(67294),s=n(53637),r=n(39886),l=n(54610),o=n(84082),i=n(49816),d=n(89163),u=n(87261),h=n(45281),p=n(84283),m=n(74855),x=n(44173),f=n(96941);n(71399);var y=n(46050);t.Z=e=>{let{gameData:t,gameFunctions:n}=e,[b,g]=(0,a.useState)({}),[j,k]=(0,a.useState)(""),[w,C]=(0,a.useState)(""),[N,S]=(0,a.useState)(""),[Z,I]=(0,a.useState)(!1),[v,T]=(0,a.useState)(null),[O,B]=(0,a.useState)(null),[X,F]=(0,a.useState)(!1),[R,_]=(0,a.useState)(null),A=(0,a.useRef)(null),{walletAddress:E,factoryContract:H,nftContract:L,web3:Y}=(0,a.useContext)(y.S);(0,a.useEffect)(()=>{Y&&Y.utils.isAddress(j)&&T(new Y.eth.Contract(t.abi,j)),Y&&t.abi2&&Y.utils.isAddress(w)&&B(new Y.eth.Contract(t.abi2,w))},[j,w,Y,t.abi,t.abi2]),(0,a.useEffect)(()=>{let e=async()=>{if(E&&L){let e=await L.methods.balanceOf(E,t.badgeId).call();S(e)}};e()},[E,L,t.badgeId]);let D=(e,t)=>{g({...b,[t]:e.target.value})},G=async()=>{try{I(!0);let e=await H.methods.deploy(t.id).send({from:E}),n=e.events.DeployInstance;n?(k(Y.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),t.abi2&&e.logs[1]&&C(Y.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),t.showTransactionHash&&_(e.transactionHash),x.Am.success("Game instance(s) created successfully!")):x.Am.error("Game creation failed.")}catch(e){x.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{I(!1)}},M=(e,n)=>{n(x.Am,v,b,E,L,t.badgeId,Y,O)};return(0,c.jsxs)(s.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,c.jsx)(f.wp,{}),(0,c.jsx)(x.Ix,{}),(0,c.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,c.jsx)("b",{children:t.title})}),(0,c.jsx)(r.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsx)(l.Z,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(m.CopyToClipboard,{text:t.code,children:(0,c.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,c.jsx)(h.Z,{language:"javascript",style:p.YC,ref:A,customStyle:{margin:"0"},children:t.code})]})})}),t.code1&&(0,c.jsx)(r.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsx)(l.Z,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(m.CopyToClipboard,{text:t.code1,children:(0,c.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,c.jsx)(h.Z,{style:p.YC,ref:A,customStyle:{margin:"0"},children:t.code1})]})})}),(0,c.jsx)(r.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(l.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Game Description"})}),(0,c.jsx)("p",{children:t.description}),(0,c.jsx)("br",{}),(0,c.jsx)(o.Z,{onClick:G,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:Z?"Creating...":"Create Instance"})]})}),j&&!Z&&(0,c.jsx)(r.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(l.Z,{children:[(0,c.jsx)("h3",{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Your Instance Address:"})}),(0,c.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:j}),O&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,c.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:w})]})]})}),j&&!Z&&t.hint&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z,{onClick:()=>F(!X),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:X?"Hide Hint":"Show Hint"}),X&&(0,c.jsx)(r.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,c.jsxs)(l.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Hint"})}),(0,c.jsxs)("p",{children:[t.hint,t.showTransactionHash&&R&&(0,c.jsxs)("span",{style:{wordBreak:"break-all",color:"#c97539"},children:[" ",R,"."]}),t.hintLink&&(0,c.jsxs)("span",{children:[" You can read more ",(0,c.jsx)("a",{href:t.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]}),t.hintLink2&&(0,c.jsxs)("span",{children:[" and ",(0,c.jsx)("a",{href:t.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]})]})]})})]}),j&&!Z&&t.functions.map((e,t)=>(0,c.jsx)(r.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(l.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:e.label})}),e.inputs.map((e,t)=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)(u.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:t=>D(t,e.name)})},t),(0,c.jsx)("br",{})]})),(0,c.jsx)(o.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>M(e.functionName,n[e.functionName]),children:e.buttonText})]})},t)),N>0&&(0,c.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,c.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,c.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},41782:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var c=n(85893);n(67294);var a=n(83545),s=JSON.parse('[{"inputs":[{"internalType":"bytes4","name":"id","type":"bytes4"}],"name":"calculateXOR","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"selector1","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"selector2","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"stateMutability":"view","type":"function"}]');let r=async(e,t,n,c,a,s)=>{let{id:r}=n;try{await t.methods.calculateXOR(r).send({from:c,gas:7e5}),e.success("XOR calculation completed successfully!");let n=await a.methods.balanceOf(c,s).call();n<1&&(await a.methods.mint(s,t.options.address).send({from:c}),e.success("Badge minted successfully!"))}catch(t){console.error("Error in calculateXOR function:",t),e.error("XOR calculation failed: ".concat(t.message))}},l=async(e,t)=>{try{let n=await t.methods.contractInterface().call();e.info("Contract interface status: ".concat(n?"True":"False"))}catch(t){console.error("Error in contractInterface function:",t),e.error("Fetching contract interface status failed.")}},o=async(e,t)=>{try{let n=await t.methods.selector1().call();e.info("Selector 1: ".concat(n))}catch(t){console.error("Error in selector1 function:",t),e.error("Fetching Selector 1 failed.")}},i=async(e,t)=>{try{let n=await t.methods.selector2().call();e.info("Selector 2: ".concat(n))}catch(t){console.error("Error in selector2 function:",t),e.error("Fetching Selector 2 failed.")}},d={id:15,title:"Contract Interface Support",description:"Dive into Solidity's contract interfaces. Uncover signatures and master their mechanics.\n                You need to understand the keccak256 hash functions, Bytes4 data type, and XOR operations, \n                which are used to calculate a function's signature.",code:'// SPDX-License-Identifier: MIT\n          pragma solidity ^0.8.10;\n          \n          contract SupportInterface {\n              bool public contractInterface;\n              bytes4 public selector1 = bytes4(keccak256("calcFunc1(uint)"));\n              bytes4 public selector2 = bytes4(keccak256("calcFunc2(bool)"));\n              \n              function calcFunc1(uint number) private {}\n              function calcFunc2(bool Boolean) private {}\n              \n              function calculateXOR(bytes4 id) external {\n                  bytes4 xorValue = selector1 ^ selector2 ^ bytes4(keccak256("calculateXOR(bytes4)"));\n                  require(id == xorValue, "This is not the interface of the contract");\n                  contractInterface = true;\n              }\n          }',abi:s,badgeId:15,hint:"\n         Write a function as follows: function calculateXOR() public pure returns(bytes4);\n         Alternatively, calculate the function signatures and XOR values",hintLink:"https://emn178.github.io/online-tools/keccak_256.html",hintLink2:"https://xor.pw/#",functions:[{label:"Check Contract Interface",functionName:"contractInterface",buttonText:"Fetch Interface Status",inputs:[]},{label:"Selector 1",functionName:"selector1",buttonText:"Fetch Selector 1",inputs:[]},{label:"Selector 2",functionName:"selector2",buttonText:"Fetch Selector 2",inputs:[]},{label:"Calculate XOR",functionName:"calculateXOR",buttonText:"Calculate XOR",inputs:[{name:"id",placeholder:"Enter ID (bytes4)"}]}]};var u=()=>(0,c.jsx)(a.Z,{gameData:d,gameFunctions:{calculateXOR:r,contractInterface:l,selector1:o,selector2:i}})}},function(e){e.O(0,[817,311,941,774,888,179],function(){return e(e.s=73352)}),_N_E=e.O()}]);