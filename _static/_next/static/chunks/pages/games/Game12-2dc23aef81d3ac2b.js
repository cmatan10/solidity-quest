(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{24093:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game12",function(){return t(57430)}])},83545:function(e,s,t){"use strict";var n=t(85893),o=t(67294),l=t(53637),a=t(39886),i=t(54610),c=t(84082),r=t(49816),d=t(89163),u=t(87261),h=t(45281),m=t(84283),p=t(74855),x=t(44173),f=t(96941);t(71399);var g=t(46050);s.Z=e=>{let{gameData:s,gameFunctions:t}=e,[y,b]=(0,o.useState)({}),[j,C]=(0,o.useState)(""),[w,k]=(0,o.useState)(""),[N,Z]=(0,o.useState)(""),[S,H]=(0,o.useState)(!1),[F,T]=(0,o.useState)(null),[v,B]=(0,o.useState)(null),[A,I]=(0,o.useState)(!1),[_,E]=(0,o.useState)(null),P=(0,o.useRef)(null),{walletAddress:G,factoryContract:Y,nftContract:O,web3:D}=(0,o.useContext)(g.S);(0,o.useEffect)(()=>{D&&D.utils.isAddress(j)&&T(new D.eth.Contract(s.abi,j)),D&&s.abi2&&D.utils.isAddress(w)&&B(new D.eth.Contract(s.abi2,w))},[j,w,D,s.abi,s.abi2]),(0,o.useEffect)(()=>{let e=async()=>{if(G&&O){let e=await O.methods.balanceOf(G,s.badgeId).call();Z(e)}};e()},[G,O,s.badgeId]);let M=(e,s)=>{b({...y,[s]:e.target.value})},z=async()=>{try{H(!0);let e=await Y.methods.deploy(s.id).send({from:G}),t=e.events.DeployInstance;t?(C(D.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),s.abi2&&e.logs[1]&&k(D.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),s.showTransactionHash&&E(e.transactionHash),x.Am.success("Game instance(s) created successfully!")):x.Am.error("Game creation failed.")}catch(e){x.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{H(!1)}},X=(e,t)=>{t(x.Am,F,y,G,O,s.badgeId,D,v)};return(0,n.jsxs)(l.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,n.jsx)(f.wp,{}),(0,n.jsx)(x.Ix,{}),(0,n.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,n.jsx)("b",{children:s.title})}),(0,n.jsx)(a.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(p.CopyToClipboard,{text:s.code,children:(0,n.jsx)(c.Z,{className:"button-copy",children:"Copy code"})}),(0,n.jsx)(h.Z,{language:"javascript",style:m.YC,ref:P,customStyle:{margin:"0"},children:s.code})]})})}),s.code1&&(0,n.jsx)(a.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(p.CopyToClipboard,{text:s.code1,children:(0,n.jsx)(c.Z,{className:"button-copy",children:"Copy code"})}),(0,n.jsx)(h.Z,{style:m.YC,ref:P,customStyle:{margin:"0"},children:s.code1})]})})}),(0,n.jsx)(a.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Game Description"})}),(0,n.jsx)("p",{children:s.description}),(0,n.jsx)("br",{}),(0,n.jsx)(c.Z,{onClick:z,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:S?"Creating...":"Create Instance"})]})}),j&&!S&&(0,n.jsx)(a.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)("h3",{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Your Instance Address:"})}),(0,n.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:j}),v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,n.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:w})]})]})}),j&&!S&&s.hint&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{onClick:()=>I(!A),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:A?"Hide Hint":"Show Hint"}),A&&(0,n.jsx)(a.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Hint"})}),(0,n.jsxs)("p",{children:[s.hint,s.showTransactionHash&&_&&(0,n.jsxs)("span",{children:[" ",_,"."]})]})]})})]}),j&&!S&&s.functions.map((e,s)=>(0,n.jsx)(a.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:e.label})}),e.inputs.map((e,s)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(u.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:s=>M(s,e.name)})},s),(0,n.jsx)("br",{})]})),(0,n.jsx)(c.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>X(e.functionName,t[e.functionName]),children:e.buttonText})]})},s)),N>0&&(0,n.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,n.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,n.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},57430:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var n=t(85893);t(67294);var o=t(83545),l=JSON.parse('[{"inputs":[],"name":"collisionFound","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"guess","type":"bytes"}],"name":"findCollision","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"secretHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"}]');let a=async(e,s,t,n,o,l)=>{let{guess:a}=t;if(!/^0x[0-9A-Fa-f]*$/.test(a)){e.error("Invalid input! Please enter a hexadecimal guess.");return}try{await s.methods.findCollision(a).send({from:n}),e.success("Collision found successfully!");let t=await o.methods.balanceOf(n,l).call();t<1&&(await o.methods.mint(l,s.options.address).send({from:n}),e.success("Badge minted successfully!"))}catch(s){console.error("Error in findCollision function:",s),e.error("Collision operation failed: ".concat(s.message))}},i=async(e,s)=>{try{let t=await s.methods.secretHash().call();e.info("Secret Hash: ".concat(t))}catch(s){e.error("Fetching secret hash failed."),console.error(s)}},c=async(e,s)=>{try{let t=await s.methods.collisionFound().call();e.info("Collision Found: ".concat(t?"True":"False"))}catch(s){e.error("Checking collision status failed."),console.error(s)}},r={id:12,title:"Hash Collision",description:"Challenge Solidity's hash functions. Find collisions and match outputs.\n                To solve this puzzle, you need to understand hash functions in Solidity,\n                specifically keccak256 and sha256, as well as how to use abi.encodePacked.\n                You'll also need to understand the concept of hash collisions.",code:'// SPDX-License-Identifier: MIT\n          pragma solidity ^0.8.10;\n          \n          contract HashCollision {\n              bytes32 public secretHash = keccak256(abi.encodePacked(sha256("secret")));\n              bool public collisionFound = false;\n              \n              function findCollision(bytes memory guess) public {\n                  require(keccak256(abi.encodePacked(guess)) == secretHash, "Not a collision!");\n                  collisionFound = true;\n              }\n          }',abi:l,badgeId:12,hint:"Write a function according to the following interface:\n         function guess() external pure returns (bytes memory secret);",functions:[{label:"Secret Hash",functionName:"secretHash",buttonText:"Fetch Secret Hash",inputs:[]},{label:"Collision Found",functionName:"collisionFound",buttonText:"Check Collision Status",inputs:[]},{label:"Find Collision",functionName:"findCollision",buttonText:"Find Collision",inputs:[{name:"guess",placeholder:"Enter guess for collision"}]}]};var d=()=>(0,n.jsx)(o.Z,{gameData:r,gameFunctions:{findCollision:a,secretHash:i,collisionFound:c}})}},function(e){e.O(0,[817,311,941,774,888,179],function(){return e(e.s=24093)}),_N_E=e.O()}]);