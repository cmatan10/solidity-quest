(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[376],{10803:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game17",function(){return s(19849)}])},83545:function(e,t,s){"use strict";var a=s(85893),n=s(67294),r=s(53637),c=s(39886),o=s(54610),i=s(84082),l=s(49816),d=s(89163),u=s(87261),m=s(45281),h=s(84283),p=s(74855),x=s(44173),g=s(96941);s(71399);var b=s(46050);t.Z=e=>{let{gameData:t,gameFunctions:s}=e,[f,y]=(0,n.useState)({}),[k,j]=(0,n.useState)(""),[C,w]=(0,n.useState)(""),[N,G]=(0,n.useState)(""),[Z,E]=(0,n.useState)(!1),[S,T]=(0,n.useState)(null),[A,_]=(0,n.useState)(null),[v,B]=(0,n.useState)(!1),[I,H]=(0,n.useState)(null),Y=(0,n.useRef)(null),{walletAddress:F,factoryContract:O,nftContract:P,web3:M}=(0,n.useContext)(b.S);(0,n.useEffect)(()=>{M&&M.utils.isAddress(k)&&T(new M.eth.Contract(t.abi,k)),M&&t.abi2&&M.utils.isAddress(C)&&_(new M.eth.Contract(t.abi2,C))},[k,C,M,t.abi,t.abi2]),(0,n.useEffect)(()=>{let e=async()=>{if(F&&P){let e=await P.methods.balanceOf(F,t.badgeId).call();G(e)}};e()},[F,P,t.badgeId]);let D=(e,t)=>{y({...f,[t]:e.target.value})},X=async()=>{try{E(!0);let e=await O.methods.deploy(t.id).send({from:F}),s=e.events.DeployInstance;s?(j(M.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),t.abi2&&e.logs[1]&&w(M.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),t.showTransactionHash&&H(e.transactionHash),x.Am.success("Game instance(s) created successfully!")):x.Am.error("Game creation failed.")}catch(e){x.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{E(!1)}},J=(e,s)=>{s(x.Am,S,f,F,P,t.badgeId,M,A)};return(0,a.jsxs)(r.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,a.jsx)(g.wp,{}),(0,a.jsx)(x.Ix,{}),(0,a.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,a.jsx)("b",{children:t.title})}),(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(p.CopyToClipboard,{text:t.code,children:(0,a.jsx)(i.Z,{className:"button-copy",children:"Copy code"})}),(0,a.jsx)(m.Z,{language:"javascript",style:h.YC,ref:Y,customStyle:{margin:"0"},children:t.code})]})})}),t.code1&&(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(p.CopyToClipboard,{text:t.code1,children:(0,a.jsx)(i.Z,{className:"button-copy",children:"Copy code"})}),(0,a.jsx)(m.Z,{style:h.YC,ref:Y,customStyle:{margin:"0"},children:t.code1})]})})}),(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Game Description"})}),(0,a.jsx)("p",{children:t.description}),(0,a.jsx)("br",{}),(0,a.jsx)(i.Z,{onClick:X,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:Z?"Creating...":"Create Instance"})]})}),k&&!Z&&(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)("h3",{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Your Instance Address:"})}),(0,a.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:k}),A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,a.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:C})]})]})}),k&&!Z&&t.hint&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{onClick:()=>B(!v),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:v?"Hide Hint":"Show Hint"}),v&&(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{className:"desc-title title-color",children:(0,a.jsx)("b",{children:"Hint"})}),(0,a.jsxs)("p",{children:[t.hint,t.showTransactionHash&&I&&(0,a.jsxs)("span",{children:[" ",I,"."]})]})]})})]}),k&&!Z&&t.functions.map((e,t)=>(0,a.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{className:"desc-title title-color",children:(0,a.jsx)("b",{children:e.label})}),e.inputs.map((e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,{children:(0,a.jsx)(u.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:t=>D(t,e.name)})},t),(0,a.jsx)("br",{})]})),(0,a.jsx)(i.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>J(e.functionName,s[e.functionName]),children:e.buttonText})]})},t)),N>0&&(0,a.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,a.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,a.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},19849:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var a=s(85893);s(67294);var n=s(83545),r=JSON.parse('[{"inputs":[],"name":"correctGuess","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"guess","type":"uint256"}],"name":"random","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),c=JSON.parse('[{"inputs":[{"internalType":"address","name":"_target","type":"address"},{"internalType":"address","name":"attackerContract","type":"address"},{"internalType":"uint256","name":"num","type":"uint256"}],"name":"attack","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"}]');let o=async(e,t,s,a)=>{let{Gusess:n}=s;try{await t.methods.random(n).send({from:a}),e.success("Guess sent successfully!")}catch(t){console.error("Error in random function:",t),e.error("Sending guess failed.")}},i=async(e,t)=>{try{let s=await t.methods.correctGuess().call();e.info("Correct Guess: ".concat(s))}catch(t){console.error("Error in correctGuess function:",t),e.error("Fetching correct guess status failed.")}},l=async(e,t,s,a,n,r,c,o)=>{let{Target:i,attackerContract:l,Num:d}=s;try{await o.methods.attack(i,l,d).send({from:a}),e.success("Attack executed successfully!")}catch(t){console.error("Error in attack function:",t),e.error("Attack failed.")}},d=async(e,t,s,a,n,r)=>{try{let s=await t.methods.correctGuess().call();if(s){e.success("Correct guess! Mission complete.");let s=await n.methods.balanceOf(a,r).call();s<1&&(await n.methods.mint(r,t.options.address).send({from:a}),e.success("Badge minted successfully!"))}else e.error("You don't have the correct guess.")}catch(t){console.error("Error in checkEducatedGuess function:",t),e.error("Checking educated guess failed.")}},u={id:17,title:"Educated Guess",description:"Navigate Solidity's number generation. Track and master the art of randomness. \n                You need to find a way to track the process of generating a random number in Solidity.",code:'// SPDX-License-Identifier: MIT\n          pragma solidity ^0.8.10;\n\n          contract EducatedGuess {\n              bool public correctGuess;\n\n              function random(uint256 guess) public {\n                  uint256 randomnumber = uint256(keccak256(abi.encodePacked(block.timestamp, msg.sender))) % 1000;\n                  require(guess == randomnumber, "Your guess is incorrect");\n                  correctGuess = true;\n              }\n          }\n\n          contract HackEducatedGuess {\n              EducatedGuess target;\n\n              function attack(address _target, address attackerContract, uint num) public returns (uint256) {\n                  target = EducatedGuess(_target);\n                  uint256 _randomnumber = uint256(keccak256(abi.encodePacked(block.timestamp, attackerContract))) % num;\n                  target.random(_randomnumber);\n                  return _randomnumber;\n              }\n          }',abi:r,abi2:c,badgeId:17,hint:'Consider how external factors, such as the block.timestamp, can influence the generation of a "random" number.',functions:[{label:"Check Correct Guess",functionName:"correctGuess",buttonText:"Fetch Correct Guess",inputs:[]},{label:"Send Guess",functionName:"random",buttonText:"Submit Guess",inputs:[{name:"Gusess",placeholder:"Enter your guess"}]},{label:"Attack Educated Guess",functionName:"attack",buttonText:"Execute Attack",inputs:[{name:"Target",placeholder:"Enter Target Address"},{name:"attackerContract",placeholder:"Enter Attacker Contract Address"},{name:"Num",placeholder:"Enter Number for Attack"}]},{label:"Check Educated Guess Status",functionName:"checkEducatedGuess",buttonText:"Submit",inputs:[]}]};var m=()=>(0,a.jsx)(n.Z,{gameData:u,gameFunctions:{random:o,correctGuess:i,attack:l,checkEducatedGuess:d}})}},function(e){e.O(0,[817,311,941,774,888,179],function(){return e(e.s=10803)}),_N_E=e.O()}]);