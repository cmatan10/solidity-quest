(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{56177:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game2",function(){return a(75301)}])},83545:function(e,t,a){"use strict";var s=a(85893),l=a(67294),n=a(53637),c=a(39886),i=a(54610),o=a(84082),r=a(49816),d=a(89163),h=a(87261),x=a(45281),u=a(84283),m=a(74855),p=a(44173),f=a(96941);a(71399);var b=a(46050);t.Z=e=>{let{gameData:t,gameFunctions:a}=e,[g,y]=(0,l.useState)({}),[j,k]=(0,l.useState)(""),[w,C]=(0,l.useState)(""),[N,Z]=(0,l.useState)(""),[v,S]=(0,l.useState)(!1),[F,M]=(0,l.useState)(null),[B,T]=(0,l.useState)(null),[_,I]=(0,l.useState)(!1),[A,E]=(0,l.useState)(null),G=(0,l.useRef)(null),{walletAddress:H,factoryContract:L,nftContract:Y,web3:D}=(0,l.useContext)(b.S);(0,l.useEffect)(()=>{D&&D.utils.isAddress(j)&&M(new D.eth.Contract(t.abi,j)),D&&t.abi2&&D.utils.isAddress(w)&&T(new D.eth.Contract(t.abi2,w))},[j,w,D,t.abi,t.abi2]),(0,l.useEffect)(()=>{let e=async()=>{if(H&&Y){let e=await Y.methods.balanceOf(H,t.badgeId).call();Z(e)}};e()},[H,Y,t.badgeId]);let O=(e,t)=>{y({...g,[t]:e.target.value})},P=async()=>{try{S(!0);let e=await L.methods.deploy(t.id).send({from:H}),a=e.events.DeployInstance;a?(k(D.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),t.abi2&&e.logs[1]&&C(D.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),t.showTransactionHash&&E(e.transactionHash),p.Am.success("Game instance(s) created successfully!")):p.Am.error("Game creation failed.")}catch(e){p.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{S(!1)}},V=(e,a)=>{a(p.Am,F,g,H,Y,t.badgeId,D,B)};return(0,s.jsxs)(n.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,s.jsx)(f.wp,{}),(0,s.jsx)(p.Ix,{}),(0,s.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,s.jsx)("b",{children:t.title})}),(0,s.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,s.jsx)(i.Z,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(m.CopyToClipboard,{text:t.code,children:(0,s.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,s.jsx)(x.Z,{language:"javascript",style:u.YC,ref:G,customStyle:{margin:"0"},children:t.code})]})})}),t.code1&&(0,s.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,s.jsx)(i.Z,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)(m.CopyToClipboard,{text:t.code1,children:(0,s.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,s.jsx)(x.Z,{style:u.YC,ref:G,customStyle:{margin:"0"},children:t.code1})]})})}),(0,s.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(r.Z,{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"Game Description"})}),(0,s.jsx)("p",{children:t.description}),(0,s.jsx)("br",{}),(0,s.jsx)(o.Z,{onClick:P,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:v?"Creating...":"Create Instance"})]})}),j&&!v&&(0,s.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)("h3",{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"Your Instance Address:"})}),(0,s.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:j}),B&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h3",{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,s.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:w})]})]})}),j&&!v&&t.hint&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{onClick:()=>I(!_),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:_?"Hide Hint":"Show Hint"}),_&&(0,s.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(r.Z,{className:"desc-title title-color",children:(0,s.jsx)("b",{children:"Hint"})}),(0,s.jsxs)("p",{children:[t.hint,t.showTransactionHash&&A&&(0,s.jsxs)("span",{style:{wordBreak:"break-all",color:"#c97539"},children:[" ",A,"."]}),t.hintLink&&(0,s.jsxs)("span",{children:[" You can read more ",(0,s.jsx)("a",{href:t.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]}),t.hintLink2&&(0,s.jsxs)("span",{children:[" and ",(0,s.jsx)("a",{href:t.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]})]})]})})]}),j&&!v&&t.functions.map((e,t)=>(0,s.jsx)(c.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(r.Z,{className:"desc-title title-color",children:(0,s.jsx)("b",{children:e.label})}),e.inputs.map((e,t)=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{children:(0,s.jsx)(h.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:t=>O(t,e.name)})},t),(0,s.jsx)("br",{})]})),(0,s.jsx)(o.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>V(e.functionName,a[e.functionName]),children:e.buttonText})]})},t)),N>0&&(0,s.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,s.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,s.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},75301:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var s=a(85893);a(67294);var l=a(83545),n=JSON.parse('[{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"fixMe","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]');let c=async(e,t)=>{try{let a=await t.methods.fixMe().call();console.log("fixMeValue:",a),e.info("fixMeValue: ".concat(a))}catch(t){console.error("Error fetching fixMe state:",t),e.error("Failed to fetch fixMe state.")}},i=async(e,t,a,s,l,n)=>{try{let a=await t.methods.fixMe().call();if(console.log("fixMeValue:",a),a){e.success("Fallback game completed!");let a=await l.methods.balanceOf(s,n).call();console.log("fixMeValue: ".concat(a)),a<1&&(await l.methods.mint(n,t._address).send({from:s}),e.success("Badge minted successfully!"))}else e.error("Fallback game not yet completed.")}catch(t){e.error("checkFallbackGame function failed."),console.error(t)}},o={id:2,title:"Fallback",description:"into Solidity's fallback intricacies. Discover its mechanics and maximize its potential.\n                To complete this mission, you need to understand how Solidity's fallback function works, \n                when it's triggered, and how to activate it.",code:"// SPDX-License-Identifier: MIT\n          pragma solidity ^0.8.10;\n\n          contract Fallback {\n              uint8 public num = 0;\n\n              function fixMe() external view returns (bool) {\n                  return num == 1;\n              }\n\n              fallback() external {\n                  num = 1;\n              }\n          }",abi:n,badgeId:2,hint:"Each hexadecimal digit represents four binary bits, \n  and a bytes2 consists of sixteen bits. \n  It requires four hexadecimal digits to represent all possible values. \n  In hexadecimal notation, values range from 0x0000 to 0xFFFF.",hintLink:"https://docs.soliditylang.org/en/v0.8.10/contracts.html?highlight=fallback#fallback-function",functions:[{label:"Fix Me",functionName:"fixMe",buttonText:"Execute fixMe",inputs:[]},{label:"Check Fallback Game",functionName:"checkFallbackGame",buttonText:"Submit",inputs:[]}]};var r=()=>(0,s.jsx)(l.Z,{gameData:o,gameFunctions:{fixMe:c,checkFallbackGame:i}})}},function(e){e.O(0,[817,311,941,774,888,179],function(){return e(e.s=56177)}),_N_E=e.O()}]);