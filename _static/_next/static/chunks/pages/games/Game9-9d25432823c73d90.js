(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{92926:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game9",function(){return t(6900)}])},83545:function(e,s,t){"use strict";var c=t(85893),a=t(67294),l=t(53637),o=t(39886),r=t(54610),n=t(84082),i=t(49816),d=t(89163),h=t(87261),u=t(45281),m=t(84283),b=t(74855),p=t(55678),x=t(96941);t(71399);var k=t(46050);s.Z=e=>{let{gameData:s,gameFunctions:t}=e,[f,g]=(0,a.useState)({}),[y,j]=(0,a.useState)(""),[C,N]=(0,a.useState)(""),[w,B]=(0,a.useState)(""),[H,Z]=(0,a.useState)(!1),[T,v]=(0,a.useState)(null),[S,_]=(0,a.useState)(null),[E,A]=(0,a.useState)(!1),[I,Y]=(0,a.useState)(null),F=(0,a.useRef)(null),{walletAddress:G,factoryContract:L,nftContract:O,web3:D}=(0,a.useContext)(k.S);(0,a.useEffect)(()=>{D&&D.utils.isAddress(y)&&v(new D.eth.Contract(s.abi,y)),D&&s.abi2&&D.utils.isAddress(C)&&_(new D.eth.Contract(s.abi2,C))},[y,C,D,s.abi,s.abi2]),(0,a.useEffect)(()=>{let e=async()=>{if(G&&O){let e=await O.methods.balanceOf(G,s.badgeId).call();B(e)}};e()},[G,O,s.badgeId]);let M=(e,s)=>{g({...f,[s]:e.target.value})},P=async()=>{try{Z(!0);let e=await L.methods.deploy(s.id).send({from:G}),t=e.events.DeployInstance;t?(j(D.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),s.abi2&&e.logs[1]&&N(D.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),s.showTransactionHash&&Y(e.transactionHash),p.Am.success("Game instance(s) created successfully!")):p.Am.error("Game creation failed.")}catch(e){p.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{Z(!1)}},z=(e,t)=>{t(p.Am,T,f,G,O,s.badgeId,D,S)};return(0,c.jsxs)(l.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,c.jsx)(x.wp,{}),(0,c.jsx)(p.Ix,{}),(0,c.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,c.jsx)("b",{children:s.title})}),(0,c.jsx)(o.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsx)(r.Z,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(b.CopyToClipboard,{text:s.code,children:(0,c.jsx)(n.Z,{className:"button-copy",children:"Copy code"})}),(0,c.jsx)(u.Z,{language:"javascript",style:m.YC,ref:F,customStyle:{margin:"0"},children:s.code})]})})}),s.code1&&(0,c.jsx)(o.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsx)(r.Z,{children:(0,c.jsxs)("div",{children:[(0,c.jsx)(b.CopyToClipboard,{text:s.code1,children:(0,c.jsx)(n.Z,{className:"button-copy",children:"Copy code"})}),(0,c.jsx)(u.Z,{style:m.YC,ref:F,customStyle:{margin:"0"},children:s.code1})]})})}),(0,c.jsx)(o.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Game Description"})}),(0,c.jsx)("p",{children:s.description}),(0,c.jsx)("br",{}),(0,c.jsx)(n.Z,{onClick:P,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:H?"Creating...":"Create Instance"})]})}),y&&!H&&(0,c.jsx)(o.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)("h3",{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Your Instance Address:"})}),(0,c.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:y}),S&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,c.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:C})]})]})}),y&&!H&&s.hint&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Z,{onClick:()=>A(!E),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:E?"Hide Hint":"Show Hint"}),E&&(0,c.jsx)(o.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:"Hint"})}),(0,c.jsxs)("p",{children:[s.hint,s.showTransactionHash&&I&&(0,c.jsxs)("span",{style:{wordBreak:"break-all",color:"#c97539"},children:[" ",I,"."]}),s.hintLink&&(0,c.jsxs)("span",{children:[" You can read more ",(0,c.jsx)("a",{href:s.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]}),s.hintLink2&&(0,c.jsxs)("span",{children:[" and ",(0,c.jsx)("a",{href:s.hintLink2,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]})]})]})})]}),y&&!H&&s.functions.map((e,s)=>(0,c.jsx)(o.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)(i.Z,{className:"desc-title title-color",children:(0,c.jsx)("b",{children:e.label})}),e.inputs.map((e,s)=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d.Z,{children:(0,c.jsx)(h.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:s=>M(s,e.name)})},s),(0,c.jsx)("br",{})]})),(0,c.jsx)(n.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>z(e.functionName,t[e.functionName]),children:e.buttonText})]})},s)),w>0&&(0,c.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,c.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,c.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},6900:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var c=t(85893);t(67294);var a=t(83545),l=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"name":"blockHashCheck","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"correctBlockHash","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]');let o=async(e,s,t,c,a,l)=>{let{blockNumber:o,blockHash:r}=t;if(isNaN(Number(o))||66!==r.length||!r.startsWith("0x")){e.error("Invalid input! Enter a valid block number and a block hash in hexadecimal format.");return}try{await s.methods.blockHashCheck(Number(o),r).send({from:c}),e.success("Block hash checked successfully!");let t=await s.methods.correctBlockHash().call();if(t){let t=await a.methods.balanceOf(c,l).call();t<1&&(await a.methods.mint(l,s.options.address).send({from:c}),e.success("Badge minted successfully!"))}}catch(s){console.error("Error in blockHashCheck function:",s),e.error("Block hash verification failed: ".concat(s.message))}},r=async(e,s)=>{try{let t=await s.methods.correctBlockHash().call();e.info("Correct block hash: ".concat(t?"True":"False"))}catch(s){e.error("Fetching block hash status failed."),console.error(s)}},n={id:9,title:"BlockHash",description:"Embark on a journey with Solidity's block properties. Match hashes and validate findings.\n                To complete this puzzle, you need to understand Ethereum's block properties.",code:'// SPDX-License-Identifier: MIT\n          pragma solidity ^0.8.10;\n          \n          contract BlockHash {\n              bool public correctBlockHash = false;\n          \n              function blockHashCheck(uint blockNumber, bytes32 blockHash) external {\n                  require(blockNumber < block.number, "Block number should be less than current block number");\n                  require(block.number - blockNumber <= 256, "Block number should be within the last 256 blocks");\n                  if(blockhash(blockNumber) == blockHash){\n                      correctBlockHash = true;\n                  }\n              }\n          }',abi:l,badgeId:9,hint:"You will find the block number in the block explorer by this hash:",showTransactionHash:!0,functions:[{label:"Check Correct Block Hash",functionName:"correctBlockHash",buttonText:"Check Correct Block Hash",inputs:[]},{label:"Block Hash Check",functionName:"blockHashCheck",buttonText:"Verify Block Hash",inputs:[{name:"blockNumber",placeholder:"Enter Block Number"},{name:"blockHash",placeholder:"Enter Block Hash"}]}]};var i=()=>(0,c.jsx)(a.Z,{gameData:n,gameFunctions:{blockHashCheck:o,correctBlockHash:r}})}},function(e){e.O(0,[931,318,941,774,888,179],function(){return e(e.s=92926)}),_N_E=e.O()}]);