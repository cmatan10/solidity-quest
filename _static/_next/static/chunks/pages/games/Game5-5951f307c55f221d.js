(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{31935:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/games/Game5",function(){return s(35687)}])},83545:function(e,t,s){"use strict";var n=s(85893),a=s(67294),c=s(53637),i=s(39886),l=s(54610),o=s(84082),r=s(49816),d=s(89163),m=s(87261),h=s(45281),u=s(84283),p=s(74855),x=s(55678),g=s(96941);s(71399);var b=s(46050);t.Z=e=>{let{gameData:t,gameFunctions:s}=e,[y,f]=(0,a.useState)({}),[j,k]=(0,a.useState)(""),[w,C]=(0,a.useState)(""),[N,T]=(0,a.useState)(""),[Z,v]=(0,a.useState)(!1),[B,S]=(0,a.useState)(null),[_,I]=(0,a.useState)(null),[A,E]=(0,a.useState)(!1),[H,R]=(0,a.useState)(null),Y=(0,a.useRef)(null),{walletAddress:L,factoryContract:F,nftContract:G,web3:M}=(0,a.useContext)(b.S);(0,a.useEffect)(()=>{M&&M.utils.isAddress(j)&&S(new M.eth.Contract(t.abi,j)),M&&t.abi2&&M.utils.isAddress(w)&&I(new M.eth.Contract(t.abi2,w))},[j,w,M,t.abi,t.abi2]),(0,a.useEffect)(()=>{let e=async()=>{if(L&&G){let e=await G.methods.balanceOf(L,t.badgeId).call();T(e)}};e()},[L,G,t.badgeId]);let O=(e,t)=>{f({...y,[t]:e.target.value})},z=async()=>{try{v(!0);let e=await F.methods.deploy(t.id).send({from:L}),s=e.events.DeployInstance;s?(k(M.utils.toChecksumAddress("0x".concat(e.logs[0].topics[1].slice(-40)))),t.abi2&&e.logs[1]&&C(M.utils.toChecksumAddress("0x".concat(e.logs[1].topics[1].slice(-40)))),t.showTransactionHash&&R(e.transactionHash),x.Am.success("Game instance(s) created successfully!")):x.Am.error("Game creation failed.")}catch(e){x.Am.error("Game creation failed. Please ensure your wallet is connected."),console.error(e)}finally{v(!1)}},D=(e,s)=>{s(x.Am,B,y,L,G,t.badgeId,M,_)};return(0,n.jsxs)(c.Z,{className:"bg-primary-black overflow-hidden",style:{paddingBottom:"30px",minHeight:"100vh"},children:[(0,n.jsx)(g.wp,{}),(0,n.jsx)(x.Ix,{}),(0,n.jsx)("h1",{className:"game-title title-color",style:{paddingTop:"20px",paddingBottom:"20px"},children:(0,n.jsx)("b",{children:t.title})}),(0,n.jsx)(i.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(p.CopyToClipboard,{text:t.code,children:(0,n.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,n.jsx)(h.Z,{language:"javascript",style:u.YC,ref:Y,customStyle:{margin:"0"},children:t.code})]})})}),t.code1&&(0,n.jsx)(i.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)("div",{children:[(0,n.jsx)(p.CopyToClipboard,{text:t.code1,children:(0,n.jsx)(o.Z,{className:"button-copy",children:"Copy code"})}),(0,n.jsx)(h.Z,{style:u.YC,ref:Y,customStyle:{margin:"0"},children:t.code1})]})})}),(0,n.jsx)(i.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Game Description"})}),(0,n.jsx)("p",{children:t.description}),(0,n.jsx)("br",{}),(0,n.jsx)(o.Z,{onClick:z,className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#c97539",color:"white"},children:Z?"Creating...":"Create Instance"})]})}),j&&!Z&&(0,n.jsx)(i.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)("h3",{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Your Instance Address:"})}),(0,n.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:j}),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h3",{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Your Hacking Instance Address:"})}),(0,n.jsx)("p",{style:{wordBreak:"break-all",color:"#c97539"},children:w})]})]})}),j&&!Z&&t.hint&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{onClick:()=>E(!A),className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white",marginBottom:"17px",marginLeft:"12px"},children:A?"Hide Hint":"Show Hint"}),A&&(0,n.jsx)(i.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginTop:"10px"},children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:"Hint"})}),(0,n.jsxs)("p",{children:[t.hint,t.showTransactionHash&&H&&(0,n.jsxs)("span",{style:{wordBreak:"break-all",color:"#c97539"},children:[" ",H,"."]}),t.hintLink&&(0,n.jsxs)("span",{children:[" You can read more ",(0,n.jsx)("a",{href:t.hintLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]}),t.hintLink2&&(0,n.jsxs)("span",{children:[" and ",(0,n.jsx)("a",{href:t.hintLink2,target:"_blank",rel:"noopener noreferrer",style:{color:"#c97539"},children:"here"}),"."]})]})]})})]}),j&&!Z&&t.functions.map((e,t)=>(0,n.jsx)(i.Z,{className:"game-card",style:{backgroundColor:"#000000",color:"white",marginBottom:"20px"},children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(r.Z,{className:"desc-title title-color",children:(0,n.jsx)("b",{children:e.label})}),e.inputs.map((e,t)=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(m.Z,{className:"py-1 rounded-[12px]",style:{color:"black"},placeholder:e.placeholder,onChange:t=>O(t,e.name)})},t),(0,n.jsx)("br",{})]})),(0,n.jsx)(o.Z,{className:"flex h-fit py-2 px-4 bg-[#25618B] rounded-[12px] gap-[6px]",style:{backgroundColor:"#355f7d",color:"white"},onClick:()=>D(e.functionName,s[e.functionName]),children:e.buttonText})]})},t)),N>0&&(0,n.jsx)("div",{style:{textAlign:"center",color:"#c97539",marginTop:"20px"},children:(0,n.jsxs)("strong",{children:["Congratulations! You Got A Badge ",(0,n.jsx)("i",{className:"fas fa-medal",style:{fontSize:"20px"}})]})})]})}},35687:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var n=s(85893);s(67294);var a=s(83545),c=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"success","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_Timestamp","type":"uint256"}],"name":"timeReset","outputs":[],"stateMutability":"nonpayable","type":"function"}]');let i=async(e,t,s,n,a,c)=>{let{_Timestamp:i}=s;if(isNaN(i)){alert("Invalid timestamp!");return}try{await t.methods.timeReset(i).send({from:n}),e("Well done! You have solved this level!",{autoClose:5e3});let s=await a.methods.balanceOf(n,c).call();s<1&&(await a.methods.mint(c,t.options.address).send({from:n}),e.success("Minting completed successfully!"))}catch(t){console.error("Error in timeReset function:",t),e.error("Time reset failed: ".concat(t.message))}},l=async(e,t)=>{try{let s=await t.methods.success().call();e.info("Success state is: ".concat(s))}catch(t){console.error("Fetching success state failed:",t),e.error("Fetching success state failed.")}},o={id:5,title:"Timestamp",description:"Engage with Solidityâ€™s block.timestamp. Understand and ensure perfect synchronization.\n                To complete this puzzle, you need to understand how block.timestamp works in Solidity and how to access it.",code:'// SPDX-License-Identifier: MIT\n      pragma solidity 0.8.10;\n      \n      contract Timestamp {\n          uint256 private currentBlockTimestamp;\n          bool public success;\n      \n          constructor() {\n              currentBlockTimestamp = block.timestamp;\n          }\n          function timeReset(uint256 _Timestamp) external {\n              require(currentBlockTimestamp == _Timestamp, "This Is Not The Timestamp");\n              currentBlockTimestamp = 0;\n              success = true;\n          }\n      }',abi:c,badgeId:5,hint:"You will find the block number in the block explorer by using the hash below. Use the Web3 getBlock function to retrieve timestamp details.",hintLink:"https://web3js.readthedocs.io/en/v1.2.11/web3-eth.html?highlight=getBlock#getblock",showTransactionHash:!0,functions:[{label:"Check Success",functionName:"success",buttonText:"Check Success",inputs:[]},{label:"Reset Timestamp",functionName:"timeReset",buttonText:"Reset Timestamp",inputs:[{name:"_Timestamp",placeholder:"Enter the timestamp"}]}]};var r=()=>(0,n.jsx)(a.Z,{gameData:o,gameFunctions:{timeReset:i,success:l}})}},function(e){e.O(0,[931,318,941,774,888,179],function(){return e(e.s=31935)}),_N_E=e.O()}]);